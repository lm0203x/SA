# Tushare Pro æ•°æ®æŽ¥å£è¯´æ˜Ž

## ðŸ“‹ æ¦‚è¿°

Tushare Pro æ˜¯ä¸€ä¸ªé‡‘èžæ•°æ®å¹³å°ï¼Œæä¾›ä¸°å¯Œçš„è‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§ç­‰é‡‘èžæ•°æ®æŽ¥å£ã€‚

**å®˜æ–¹æ–‡æ¡£**: https://tushare.pro/document/2

---

## ðŸŽ¯ æˆ‘ä»¬ç³»ç»Ÿéœ€è¦çš„æ ¸å¿ƒæ•°æ®

### 1. **è‚¡ç¥¨åˆ—è¡¨æ•°æ®** âœ… å·²å®žçŽ°

**æŽ¥å£**: `pro.stock_basic()`

**ç”¨é€”**: èŽ·å–æ‰€æœ‰Aè‚¡ä¸Šå¸‚å…¬å¸åŸºæœ¬ä¿¡æ¯

**å‚æ•°**:
```python
df = pro.stock_basic(
    exchange='',        # äº¤æ˜“æ‰€: SSEä¸Šäº¤æ‰€, SZSEæ·±äº¤æ‰€
    list_status='L',    # ä¸Šå¸‚çŠ¶æ€: Lä¸Šå¸‚, Dé€€å¸‚, Pæš‚åœä¸Šå¸‚
    fields='ts_code,symbol,name,area,industry,list_date'
)
```

**è¿”å›žå­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç ï¼ˆå¦‚ 000001.SZï¼‰
- `symbol`: è‚¡ç¥¨ä»£ç ï¼ˆå¦‚ 000001ï¼‰
- `name`: è‚¡ç¥¨åç§°
- `area`: åœ°åŸŸ
- `industry`: è¡Œä¸š
- `market`: å¸‚åœºç±»åž‹ï¼ˆä¸»æ¿/åˆ›ä¸šæ¿/ç§‘åˆ›æ¿ï¼‰
- `list_date`: ä¸Šå¸‚æ—¥æœŸ

**ç¤ºä¾‹è¿”å›ž**:
```
ts_code    symbol  name    area  industry      list_date
000001.SZ  000001  å¹³å®‰é“¶è¡Œ  æ·±åœ³   é“¶è¡Œ           19910403
000002.SZ  000002  ä¸‡ç§‘A    æ·±åœ³   æˆ¿åœ°äº§         19910129
```

---

### 2. **æ—¥çº¿è¡Œæƒ…æ•°æ®** âœ… å·²å®žçŽ°

**æŽ¥å£**: `pro.daily()`

**ç”¨é€”**: èŽ·å–è‚¡ç¥¨æ¯æ—¥Kçº¿æ•°æ®

**å‚æ•°**:
```python
df = pro.daily(
    ts_code='000001.SZ',      # è‚¡ç¥¨ä»£ç 
    trade_date='20231201',    # äº¤æ˜“æ—¥æœŸï¼ˆå¯é€‰ï¼‰
    start_date='20231101',    # å¼€å§‹æ—¥æœŸ
    end_date='20231130'       # ç»“æŸæ—¥æœŸ
)
```

**è¿”å›žå­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `trade_date`: äº¤æ˜“æ—¥æœŸ
- `open`: å¼€ç›˜ä»·
- `high`: æœ€é«˜ä»·
- `low`: æœ€ä½Žä»·
- `close`: æ”¶ç›˜ä»·
- `pre_close`: æ˜¨æ”¶ä»·
- `change`: æ¶¨è·Œé¢
- `pct_chg`: æ¶¨è·Œå¹…ï¼ˆ%ï¼‰
- `vol`: æˆäº¤é‡ï¼ˆæ‰‹ï¼‰
- `amount`: æˆäº¤é¢ï¼ˆåƒå…ƒï¼‰

**æƒé™**: å…è´¹ç”¨æˆ·å¯èŽ·å–è¿‘3å¹´æ—¥çº¿æ•°æ®

---

### 3. **å®žæ—¶è¡Œæƒ…æ•°æ®** â³ å¾…å®žçŽ°

**æŽ¥å£**: `ts.realtime_quote()`

**ç”¨é€”**: èŽ·å–è‚¡ç¥¨å®žæ—¶è¡Œæƒ…ï¼ˆåˆ†é’Ÿçº§ï¼‰

**æ³¨æ„**: 
- éœ€è¦è¾ƒé«˜æƒé™ç§¯åˆ†ï¼ˆ2000åˆ†ä»¥ä¸Šï¼‰
- å…è´¹ç”¨æˆ·å¯èƒ½æ— æ³•è®¿é—®
- æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨`pro.daily()`èŽ·å–æœ€æ–°æ—¥çº¿æ•°æ®

**æ›¿ä»£æ–¹æ¡ˆ - æœ€æ–°æ—¥çº¿**:
```python
# èŽ·å–ä»Šå¤©çš„æ•°æ®
df = pro.daily(trade_date='20231201')
```

---

### 4. **åˆ†é’Ÿçº§è¡Œæƒ…æ•°æ®** â³ å¯é€‰

**æŽ¥å£**: `pro.stk_mins()`

**ç”¨é€”**: èŽ·å–1åˆ†é’Ÿ/5åˆ†é’ŸKçº¿æ•°æ®

**å‚æ•°**:
```python
df = pro.stk_mins(
    ts_code='000001.SZ',
    freq='1min',              # é¢‘çŽ‡: 1min, 5min, 15min, 30min, 60min
    start_date='20231201',
    end_date='20231201'
)
```

**æƒé™è¦æ±‚**: éœ€è¦5000ç§¯åˆ†ä»¥ä¸Š

**å¯¹äºŽå…è´¹ç”¨æˆ·**: ä¸å¯ç”¨ï¼Œå»ºè®®ä½¿ç”¨æ—¥çº¿æ•°æ®

---

### 5. **æ¶¨è·Œåœæ•°æ®** ðŸ“Š æŽ¨è

**æŽ¥å£**: `pro.limit_list()`

**ç”¨é€”**: èŽ·å–æ¯æ—¥æ¶¨è·Œåœè‚¡ç¥¨ç»Ÿè®¡

**å‚æ•°**:
```python
df = pro.limit_list(
    trade_date='20231201',    # äº¤æ˜“æ—¥æœŸ
    limit_type='U'            # Uæ¶¨åœ, Dè·Œåœ
)
```

**è¿”å›žå­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `trade_date`: äº¤æ˜“æ—¥æœŸ
- `industry`: è¡Œä¸š
- `close`: æ”¶ç›˜ä»·
- `pct_chg`: æ¶¨è·Œå¹…
- `limit_times`: æ¶¨åœæ¬¡æ•°

**æƒé™**: å…è´¹ç”¨æˆ·å¯ç”¨

---

### 6. **é¾™è™Žæ¦œæ•°æ®** ðŸ“Š æŽ¨è

**æŽ¥å£**: `pro.top_list()`

**ç”¨é€”**: èŽ·å–æ²ªæ·±é¾™è™Žæ¦œæ•°æ®

**å‚æ•°**:
```python
df = pro.top_list(
    trade_date='20231201'     # äº¤æ˜“æ—¥æœŸ
)
```

**è¿”å›žå­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `name`: è‚¡ç¥¨åç§°
- `close`: æ”¶ç›˜ä»·
- `pct_chg`: æ¶¨è·Œå¹…
- `amount`: é¾™è™Žæ¦œæˆäº¤é¢
- `net_amount`: é¾™è™Žæ¦œå‡€ä¹°é¢
- `buy`: é¾™è™Žæ¦œä¹°å…¥é¢
- `sell`: é¾™è™Žæ¦œå–å‡ºé¢

**æƒé™**: éœ€è¦120ç§¯åˆ†

---

### 7. **è‚¡ç¥¨æ¯æ—¥æŒ‡æ ‡** ðŸ“ˆ æŽ¨è

**æŽ¥å£**: `pro.daily_basic()`

**ç”¨é€”**: èŽ·å–è‚¡ç¥¨æ¯æ—¥é‡è¦åŸºæœ¬æŒ‡æ ‡

**å‚æ•°**:
```python
df = pro.daily_basic(
    ts_code='000001.SZ',      # è‚¡ç¥¨ä»£ç 
    trade_date='20231201'     # äº¤æ˜“æ—¥æœŸ
)
```

**è¿”å›žå­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `trade_date`: äº¤æ˜“æ—¥æœŸ
- `close`: æ”¶ç›˜ä»·
- `turnover_rate`: æ¢æ‰‹çŽ‡ï¼ˆ%ï¼‰
- `turnover_rate_f`: æ¢æ‰‹çŽ‡ï¼ˆè‡ªç”±æµé€šè‚¡ï¼‰
- `volume_ratio`: é‡æ¯”
- `pe`: å¸‚ç›ˆçŽ‡ï¼ˆæ€»å¸‚å€¼/å‡€åˆ©æ¶¦ï¼‰
- `pe_ttm`: å¸‚ç›ˆçŽ‡ï¼ˆTTMï¼‰
- `pb`: å¸‚å‡€çŽ‡ï¼ˆæ€»å¸‚å€¼/å‡€èµ„äº§ï¼‰
- `ps`: å¸‚é”€çŽ‡
- `ps_ttm`: å¸‚é”€çŽ‡ï¼ˆTTMï¼‰
- `total_share`: æ€»è‚¡æœ¬ï¼ˆä¸‡è‚¡ï¼‰
- `float_share`: æµé€šè‚¡æœ¬ï¼ˆä¸‡è‚¡ï¼‰
- `free_share`: è‡ªç”±æµé€šè‚¡æœ¬ï¼ˆä¸‡è‚¡ï¼‰
- `total_mv`: æ€»å¸‚å€¼ï¼ˆä¸‡å…ƒï¼‰
- `circ_mv`: æµé€šå¸‚å€¼ï¼ˆä¸‡å…ƒï¼‰

**æƒé™**: å…è´¹ç”¨æˆ·å¯ç”¨

**éžå¸¸é€‚åˆå¼‚åŠ¨æ£€æµ‹**ï¼š
- æ¢æ‰‹çŽ‡çªå¢ž
- é‡æ¯”å¼‚å¸¸
- å¸‚å€¼å˜åŒ–

---

### 8. **èµ„é‡‘æµå‘æ•°æ®** ðŸ’° æŽ¨è

**æŽ¥å£**: `pro.moneyflow()`

**ç”¨é€”**: èŽ·å–ä¸ªè‚¡èµ„é‡‘æµå‘

**å‚æ•°**:
```python
df = pro.moneyflow(
    ts_code='000001.SZ',
    start_date='20231101',
    end_date='20231130'
)
```

**è¿”å›žå­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `trade_date`: äº¤æ˜“æ—¥æœŸ
- `buy_sm_vol`: å°å•ä¹°å…¥é‡
- `buy_sm_amount`: å°å•ä¹°å…¥é‡‘é¢
- `sell_sm_vol`: å°å•å–å‡ºé‡
- `sell_sm_amount`: å°å•å–å‡ºé‡‘é¢
- `buy_md_vol`: ä¸­å•ä¹°å…¥é‡
- `buy_md_amount`: ä¸­å•ä¹°å…¥é‡‘é¢
- `sell_md_vol`: ä¸­å•å–å‡ºé‡
- `sell_md_amount`: ä¸­å•å–å‡ºé‡‘é¢
- `buy_lg_vol`: å¤§å•ä¹°å…¥é‡
- `buy_lg_amount`: å¤§å•ä¹°å…¥é‡‘é¢
- `sell_lg_vol`: å¤§å•å–å‡ºé‡
- `sell_lg_amount`: å¤§å•å–å‡ºé‡‘é¢
- `buy_elg_vol`: ç‰¹å¤§å•ä¹°å…¥é‡
- `buy_elg_amount`: ç‰¹å¤§å•ä¹°å…¥é‡‘é¢
- `sell_elg_vol`: ç‰¹å¤§å•å–å‡ºé‡
- `sell_elg_amount`: ç‰¹å¤§å•å–å‡ºé‡‘é¢
- `net_mf_vol`: å‡€æµå…¥é‡
- `net_mf_amount`: å‡€æµå…¥é¢

**æƒé™**: éœ€è¦2000ç§¯åˆ†

**å¯¹å¼‚åŠ¨æ£€æµ‹éžå¸¸æœ‰ç”¨**ï¼š
- å¤§å•æµå…¥/æµå‡º
- ä¸»åŠ›èµ„é‡‘åŠ¨å‘

---

### 9. **äº¤æ˜“æ—¥åŽ†** ðŸ“… åŸºç¡€

**æŽ¥å£**: `pro.trade_cal()`

**ç”¨é€”**: èŽ·å–äº¤æ˜“æ‰€æ—¥åŽ†ï¼ˆäº¤æ˜“æ—¥/ä¼‘å¸‚æ—¥ï¼‰

**å‚æ•°**:
```python
df = pro.trade_cal(
    exchange='SSE',           # äº¤æ˜“æ‰€: SSEä¸Šäº¤æ‰€, SZSEæ·±äº¤æ‰€
    start_date='20231101',
    end_date='20231130'
)
```

**è¿”å›žå­—æ®µ**:
- `exchange`: äº¤æ˜“æ‰€
- `cal_date`: æ—¥æœŸ
- `is_open`: æ˜¯å¦äº¤æ˜“ï¼ˆ0ä¼‘å¸‚, 1äº¤æ˜“ï¼‰
- `pretrade_date`: ä¸Šä¸€ä¸ªäº¤æ˜“æ—¥

**æƒé™**: å…è´¹ç”¨æˆ·å¯ç”¨

---

## ðŸ”‘ æƒé™è¯´æ˜Ž

Tushare Pro é‡‡ç”¨ç§¯åˆ†åˆ¶åº¦ï¼š

| ç§¯åˆ†ç­‰çº§ | èŽ·å–æ–¹å¼ | å¯ç”¨æŽ¥å£ |
|---------|---------|---------|
| **0åˆ†ï¼ˆå…è´¹ï¼‰** | æ³¨å†Œå³å¯ | è‚¡ç¥¨åˆ—è¡¨ã€æ—¥çº¿è¡Œæƒ…ã€æ¯æ—¥æŒ‡æ ‡ã€äº¤æ˜“æ—¥åŽ† |
| **120åˆ†** | å®Œå–„èµ„æ–™ã€åˆ†äº« | + é¾™è™Žæ¦œæ•°æ® |
| **2000åˆ†** | æèµ æˆ–ç§¯ç´¯ | + èµ„é‡‘æµå‘ã€å®žæ—¶è¡Œæƒ…ï¼ˆå—é™ï¼‰ |
| **5000åˆ†+** | æèµ  | + åˆ†é’Ÿæ•°æ®ã€tickæ•°æ® |

**èŽ·å–ç§¯åˆ†**:
1. å®Œå–„ä¸ªäººèµ„æ–™ï¼š+50åˆ†
2. æ¯æ—¥ç­¾åˆ°ï¼š+1åˆ†
3. åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“ï¼š+20åˆ†
4. æèµ ï¼š100å…ƒ=2000åˆ†

---

## ðŸ’¡ æŽ¨èçš„æ•°æ®èŽ·å–æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šå…è´¹ç‰ˆï¼ˆ0ç§¯åˆ†ï¼‰

**å¯ç”¨æ•°æ®**:
- âœ… è‚¡ç¥¨åˆ—è¡¨ (`stock_basic`)
- âœ… æ—¥çº¿è¡Œæƒ… (`daily`)
- âœ… æ¯æ—¥æŒ‡æ ‡ (`daily_basic`) - **æŽ¨èç”¨äºŽå¼‚åŠ¨æ£€æµ‹**
- âœ… äº¤æ˜“æ—¥åŽ† (`trade_cal`)

**å¼‚åŠ¨æ£€æµ‹ç­–ç•¥**:
```python
# 1. èŽ·å–æ˜¨å¤©çš„æ•°æ®
df_yesterday = pro.daily_basic(trade_date='20231130')

# 2. èŽ·å–ä»Šå¤©çš„æ•°æ®
df_today = pro.daily_basic(trade_date='20231201')

# 3. è®¡ç®—å¼‚åŠ¨æŒ‡æ ‡
# - æ¢æ‰‹çŽ‡çªå¢žï¼šä»Šå¤©æ¢æ‰‹çŽ‡ > æ˜¨å¤©æ¢æ‰‹çŽ‡ * 2
# - é‡æ¯”å¼‚å¸¸ï¼švolume_ratio > 2
# - ä»·æ ¼å¼‚åŠ¨ï¼špct_chg > 5% æˆ– < -5%
```

**ä¼˜ç‚¹**: å®Œå…¨å…è´¹ï¼Œé€‚åˆä¸ªäººå­¦ä¹ 
**ç¼ºç‚¹**: æ— å®žæ—¶æ•°æ®ï¼Œåªèƒ½èŽ·å–æ—¥çº¿çº§åˆ«

---

### æ–¹æ¡ˆäºŒï¼šåŸºç¡€ç‰ˆï¼ˆ120ç§¯åˆ†ï¼‰

**é¢å¤–å¯ç”¨**:
- âœ… é¾™è™Žæ¦œæ•°æ® (`top_list`) - æ•æ‰ä¸»åŠ›åŠ¨å‘
- âœ… æ¶¨è·Œåœæ•°æ® (`limit_list`)

**å¼‚åŠ¨æ£€æµ‹å¢žå¼º**:
- é¾™è™Žæ¦œå¸­ä½åˆ†æž
- æ¶¨åœæ¿ç›‘æŽ§

**èŽ·å–æ–¹å¼**: å®Œå–„èµ„æ–™ + åˆ†äº«ï¼Œçº¦1-2å¤©å¯è¾¾åˆ°

---

### æ–¹æ¡ˆä¸‰ï¼šä¸“ä¸šç‰ˆï¼ˆ2000ç§¯åˆ†+ï¼‰

**é¢å¤–å¯ç”¨**:
- âœ… èµ„é‡‘æµå‘ (`moneyflow`) - **æœ€å¼ºå¼‚åŠ¨æ£€æµ‹**
- âœ… å®žæ—¶è¡Œæƒ…ï¼ˆå—é™ï¼‰
- âœ… æ›´å¤šè´¢åŠ¡æ•°æ®

**å¼‚åŠ¨æ£€æµ‹**:
- ä¸»åŠ›èµ„é‡‘æµå…¥æµå‡º
- å¤§å•å¼‚åŠ¨
- æ›´ç²¾å‡†çš„é¢„è­¦

**èŽ·å–æ–¹å¼**: æèµ 100å…ƒ

---

## ðŸ“Š æˆ‘ä»¬ç³»ç»Ÿçš„æ•°æ®èŽ·å–å»ºè®®

### é˜¶æ®µä¸€ï¼šåŸºç¡€åŠŸèƒ½ï¼ˆå…è´¹ç‰ˆï¼‰

```python
# 1. è‚¡ç¥¨åˆ—è¡¨ - ç³»ç»Ÿåˆå§‹åŒ–
stocks = pro.stock_basic(list_status='L')

# 2. æ¯æ—¥æ›´æ–°è¡Œæƒ…
daily_data = pro.daily(trade_date='today')
daily_basic = pro.daily_basic(trade_date='today')

# 3. åŽ†å²Kçº¿ï¼ˆç”¨äºŽå›¾è¡¨å±•ç¤ºï¼‰
history = pro.daily(ts_code='000001.SZ', start_date='20231101', end_date='20231130')

# 4. å¼‚åŠ¨æ£€æµ‹ï¼ˆåŸºäºŽæ¯æ—¥æŒ‡æ ‡ï¼‰
# - æ¢æ‰‹çŽ‡ > 10%
# - é‡æ¯” > 2
# - æ¶¨è·Œå¹… > 5%
```

**å¯å®žçŽ°åŠŸèƒ½**:
- âœ… è‚¡ç¥¨åˆ—è¡¨å±•ç¤º
- âœ… Kçº¿å›¾è¡¨
- âœ… åŸºç¡€å¼‚åŠ¨é¢„è­¦
- âœ… ä»·æ ¼é¢„è­¦
- âœ… æ¢æ‰‹çŽ‡é¢„è­¦

---

### é˜¶æ®µäºŒï¼šå¢žå¼ºåŠŸèƒ½ï¼ˆ120ç§¯åˆ†ï¼‰

```python
# 5. é¾™è™Žæ¦œç›‘æŽ§
top_list = pro.top_list(trade_date='today')

# 6. æ¶¨åœç›‘æŽ§
limit_up = pro.limit_list(trade_date='today', limit_type='U')
limit_down = pro.limit_list(trade_date='today', limit_type='D')
```

**æ–°å¢žåŠŸèƒ½**:
- âœ… é¾™è™Žæ¦œå¼‚åŠ¨
- âœ… æ¶¨è·Œåœç»Ÿè®¡
- âœ… ä¸»åŠ›åŠ¨å‘è¿½è¸ª

---

### é˜¶æ®µä¸‰ï¼šä¸“ä¸šåŠŸèƒ½ï¼ˆ2000ç§¯åˆ†+ï¼‰

```python
# 7. èµ„é‡‘æµå‘åˆ†æž
moneyflow = pro.moneyflow(ts_code='000001.SZ', start_date='today')

# 8. å®žæ—¶æ•°æ®ï¼ˆå¦‚æžœå¯ç”¨ï¼‰
realtime = ts.realtime_quote(ts_code='000001.SZ')
```

**æ–°å¢žåŠŸèƒ½**:
- âœ… å¤§å•æµå…¥æµå‡ºé¢„è­¦
- âœ… ä¸»åŠ›èµ„é‡‘å¼‚åŠ¨
- âœ… å®žæ—¶ç›‘æŽ§ï¼ˆå¦‚æžœå¯ç”¨ï¼‰

---

## ðŸŽ¯ æ•°æ®æ›´æ–°é¢‘çŽ‡

| æ•°æ®ç±»åž‹ | æ›´æ–°é¢‘çŽ‡ | å»ºè®®èŽ·å–é¢‘çŽ‡ |
|---------|---------|------------|
| è‚¡ç¥¨åˆ—è¡¨ | ä¸å®šæœŸ | æ¯å‘¨1æ¬¡ |
| æ—¥çº¿è¡Œæƒ… | æ¯æ—¥æ”¶ç›˜åŽ | æ¯æ—¥18:00åŽ |
| æ¯æ—¥æŒ‡æ ‡ | æ¯æ—¥æ”¶ç›˜åŽ | æ¯æ—¥18:00åŽ |
| é¾™è™Žæ¦œ | æ¯æ—¥æ”¶ç›˜åŽ | æ¯æ—¥19:00åŽ |
| èµ„é‡‘æµå‘ | æ¯æ—¥æ”¶ç›˜åŽ | æ¯æ—¥19:00åŽ |

---

## âš ï¸ APIè°ƒç”¨é™åˆ¶

**å…è´¹ç”¨æˆ·**:
- æ¯åˆ†é’Ÿè°ƒç”¨æ¬¡æ•°ï¼š200æ¬¡
- æ¯å°æ—¶è°ƒç”¨æ¬¡æ•°ï¼šä¸é™ï¼ˆä½†å•æŽ¥å£æœ‰é™åˆ¶ï¼‰
- å•ä¸ªæŽ¥å£é™åˆ¶ï¼šå¦‚ `stock_basic` æ¯å°æ—¶1æ¬¡

**æ³¨æ„**:
- æµ‹è¯•è¿žæŽ¥æ—¶ä¸è¦é¢‘ç¹è°ƒç”¨
- ä½¿ç”¨æ•°æ®åº“ç¼“å­˜ï¼Œé¿å…é‡å¤è¯·æ±‚
- éµå¾ª"å…ˆç¼“å­˜ï¼ŒåŽè°ƒç”¨"åŽŸåˆ™

---

## ðŸ’» ä»£ç ç¤ºä¾‹

### å®Œæ•´çš„æ•°æ®èŽ·å–ç¤ºä¾‹

```python
import tushare as ts
from datetime import datetime, timedelta

# åˆå§‹åŒ–
pro = ts.pro_api('YOUR_TOKEN')

# 1. èŽ·å–è‚¡ç¥¨åˆ—è¡¨ï¼ˆæ¯å‘¨æ›´æ–°ä¸€æ¬¡ï¼‰
def get_stock_list():
    df = pro.stock_basic(
        list_status='L',
        fields='ts_code,symbol,name,area,industry,market,list_date'
    )
    return df

# 2. èŽ·å–ä»Šæ—¥è¡Œæƒ…
def get_today_market():
    today = datetime.now().strftime('%Y%m%d')
    df = pro.daily_basic(trade_date=today)
    return df

# 3. å¼‚åŠ¨æ£€æµ‹
def detect_anomaly(df):
    # æ¢æ‰‹çŽ‡å¼‚åŠ¨
    high_turnover = df[df['turnover_rate'] > 10]
    
    # é‡æ¯”å¼‚åŠ¨
    high_volume_ratio = df[df['volume_ratio'] > 2]
    
    # ä»·æ ¼å¼‚åŠ¨
    price_change = df[(df['close'] > df['close'].shift(1) * 1.05) | 
                      (df['close'] < df['close'].shift(1) * 0.95)]
    
    return {
        'high_turnover': high_turnover,
        'high_volume_ratio': high_volume_ratio,
        'price_change': price_change
    }

# 4. èŽ·å–åŽ†å²Kçº¿
def get_history_kline(ts_code, days=60):
    end_date = datetime.now()
    start_date = end_date - timedelta(days=days)
    
    df = pro.daily(
        ts_code=ts_code,
        start_date=start_date.strftime('%Y%m%d'),
        end_date=end_date.strftime('%Y%m%d')
    )
    return df
```

---

## ðŸ“Œ æ€»ç»“

**æŽ¨èèµ·æ­¥æ–¹æ¡ˆ**ï¼š
1. **ä½¿ç”¨å…è´¹ç‰ˆ** - å®Œå…¨å¤Ÿç”¨äºŽå­¦ä¹ å’Œä¸ªäººä½¿ç”¨
2. **é‡ç‚¹ä½¿ç”¨**ï¼š
   - `stock_basic` - è‚¡ç¥¨åˆ—è¡¨
   - `daily` - æ—¥çº¿è¡Œæƒ…
   - `daily_basic` - **æ ¸å¿ƒï¼ç”¨äºŽå¼‚åŠ¨æ£€æµ‹**
3. **å¼‚åŠ¨æ£€æµ‹æŒ‡æ ‡**ï¼š
   - æ¢æ‰‹çŽ‡ï¼ˆturnover_rateï¼‰
   - é‡æ¯”ï¼ˆvolume_ratioï¼‰
   - æ¶¨è·Œå¹…ï¼ˆpct_chgï¼‰
   - æˆäº¤é‡ï¼ˆvolï¼‰

**åŽç»­å‡çº§**ï¼š
- å®Œå–„èµ„æ–™èŽ·å–120ç§¯åˆ† â†’ é¾™è™Žæ¦œæ•°æ®
- å¦‚éœ€æ›´ä¸“ä¸šåŠŸèƒ½ï¼Œè€ƒè™‘æèµ èŽ·å–2000åˆ†

---

**å®˜æ–¹èµ„æº**:
- å®˜ç½‘: https://tushare.pro
- æ–‡æ¡£: https://tushare.pro/document/2
- ç§¯åˆ†è§„åˆ™: https://tushare.pro/document/1?doc_id=13
